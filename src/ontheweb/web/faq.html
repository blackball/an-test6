<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>
Astrometry.net / Alpha FAQ
</title>
<link rel="stylesheet" type="text/css" href="http://astrometry.net/astrometry.css" />
<link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
<link rel="icon" type="image/png" href="favicon.png" />
</head>
<body>
<div id="container">
<div id="header">
<h1 id="title">astrometry.net</h1>&nbsp;
</div>

<div class="menu">
<hr />
<a href="http://www.astrometry.net/index.html">home</a> |
<a href="http://www.astrometry.net/news.html">news</a> | 
<a href="http://www.astrometry.net/summary.html">project summary </a> | 
<a href="http://www.astrometry.net/people.html">people</a> | 
<a href="http://www.astrometry.net/biblio.html">bibliography</a> | 
<a href="http://www.astrometry.net/related.html">related links</a> | 
<a href="http://trac.astrometry.net">internal pages</a> | 
<a href="http://www.astrometry.net/code.html">download</a> | 
<a href="http://www.astrometry.net/use.html">use</a>
<hr />
</div>

<h2>
Welcome Alpha Users
</h2>

<p>Thank you for helping to test our service.  Below are some answers
to commonly asked questions, which we'll try to update during the
alpha testing period.</p>

<hr />

<dl>
<dt class="qanda">Q1: <b>What image formats can I submit?</b></dt>

<dd class="qanda">A: FITS, JPEG, PNG, GIF, PPM, PGM, and TIFF.
</dd>

<dt class="qanda">Q2: <b>Where do I enter the approximate RA,Dec?</b></dt>

<dd class="qanda">A: There's no need to give our system any hints about
the WCS of your image.  (See also <a href="#Q5">Q5</a> below.)
</dd>

<dt class="qanda">Q2.1: <b>Do we know what formats or what types of astronomical fields (sparse,  
crowded, wide field, large/small image scale, images with emission line filters, etc) tend NOT to work?</b></dt>

<dd class="qanda">A: Your field must typically contain more than about 20 detected sources, because
we use a fairly strong statistical test that needs lots of evidence.  Smallish fields work fine (eg,
SDSS images at 13x9 arcmin get over 99% success rate).  Very small fields (less than about 5 arcmin)
tend not to work because the astrometric reference catalog we are using (USNO-B) don't contain enough
stars at that scale.  Wide fields generally work, except that consumer-grade lenses tend to show
a fair bit of radial distortion, which we don't handle very well at the moment.  Fish-eye images usually
won't work because our software assumes tangential projection.  Sometimes you can get fish-eye images to work
by taking just the middle of the image where the distortion isn't too bad.  Also, we assume your image has
square pixels.  Currently, the index we use to solve your images is optimized for <b>red</b> optical images,
so if your images are far from there, you might get lower success rate; we've had good success with GALEX
near-UV but far-UV is much less successful.
</dd>

<dt class="qanda">Q2.2: <b>Are their simple ways of improving the success rate?</b></dt>
<dd class="qanda">A: Many of our failures can be attributed to failures in source extraction.
See <a href="#Q14">Q14</a> for more about that.  For wide-field images, you will usually get much faster
solutions by increasing the "lower bound" scale of the image: even changing it from 0.1 degree to 1 degree
wide should do the trick.
</dd>

<dt class="qanda">Q2.3: <b>What is the typical turn-around speed?</b></dt>
<dd class="qanda">A: It varies a lot.  It can be a few seconds or many minutes of CPU time.
We use a shared compute server, so the "wall time" varies even more.
</dd>

<dt class="qanda">Q2.4: <b>Are the jobs batch processed, or individual submission?</b></dt>
<dd class="qanda">A: We have a queue of jobs to be processed, but the queue is usually empty
so your job will usually start running right away.</dd>

<dt class="qanda">Q2.5: <b>There are a number of parameters that can be tweaked in the upload window.
Is there any heuristics about which ones are worth the time to setup?</b></dt>
<dd class="qanda">A:
The defaults should usually work.  The "image scale" has the greatest effect on the speed.
If you know exactly what your image scale is, you might want to set the range to +-5%.
See the next question about "parity".  The "index to use" and "star positional error" are
probably not work fiddling with; they'll probably disappear in future versions.
The "tweak" option is just a post-processing step: it
doesn't affect whether your image will solve, it'll just affect what the solution looks like.
</dd>

<dt class="qanda">Q2.6: <b>What's this "parity" thing?</b></dt>
<dd class="qanda">A: 
If you take an image and flip it, you reverse its "parity".  By default, we check both
possibilities.  If you're processing a lot of images and you know for sure which one your
images are (you can try solving one image and read out the answer from the results page),
you might want to set the parity: this should make the solving phase about twice as fast.
</dd>

<dt class="qanda">Q2.7: <b>
If one works with several telescopes habitually, is there the concept of a
"profile" for the scope/CCD/image parameters?
</b></dt>
<dd class="qanda">A: 
Unfortunately not, at least not in a user-friendly way.
There is one way to set the "default" values of the form by adding to the URL, eg: 
<tt>http://live.astrometry.net/?parity=1&amp;uname=JoeBlow&amp;tweak=yes&amp;fsl=5</tt>
You could then bookmark this URL and use it when submitting your images.
</dd>


<dt class="qanda">Q3: <b>What kinds of images will solve?</b></dt>

<dd class="qanda">A: We don't know!  That's why you are testing the service.  What
we <i>do</i> know is that we have solved images that range in size
from under 10&nbsp;arcmin to over 80&nbsp;deg.  We also know that we
have solved images taken in bandpasses ranging from the near
ultraviolet to the near infrared.</dd>

<dt class="qanda">Q4: <b>Why didn't my image solve?</b></dt>

<dd class="qanda">A: There are lots of reasons we can fail.  Here are some debugging
suggestions: Try looking at the links to the "png" files that show how
our system automatically detected sources in your image.  Our
algorithm is stupid (more on this below) and it fails, for example, on
saturated or bleeding stars.  Try re-inputting your image with a huge
scale range; try 0.1 to 180 degrees!  The scale range only
<i>speeds</i> the search; it doesn't make your image more likely to
solve.  Do you know your image to be tiny?  For fundamental reasons we
can never solve an image that is smaller than about 5&nbsp;arcmin in
size.  Does your camera have enormous distortions away from a
tangent-plane projection?  That can be a problem.  Do you have no
detectable stars?  That would also be a problem.  However, maybe you
have detectable stars in differenced or flattened or sky-subtracted
images?  If so, send <i>those</i> in.</dd>

<dt class="qanda"><a name="Q5">Q5</a>: <b>I submitted an image and it didn't solve even though it had
an almost exactly correct WCS header to begin.</b> How can you guys
suck so badly that you can't even solve an image when I give you the
right answer?</dt>

<dd class="qanda">A: Currently, astrometry.net <i>ignores</i> any existing image
meta-data about pointing or rotation.  It only does purely
<i>blind</i> astrometry.  Eventually we plan to perform <q>refinement
only</q> WCS services in addition to the blind service. The current
astrometry.net alpha service may use the input image WCS meta-data, if
it exists, to guess the image scale, but beyond that all meta-data in
the image are ignored.  That is the magic, and principal limitation,
of the service.</dd>

<dt class="qanda">Q6: <b>Can I do precision proper-motion analyses with your
output?</b></dt>

<dd class="qanda">A: Right now we don't do extremely precise, proper-motion-grade
astrometric solutions; these require performing simultaneous analyses
of multiple images from the same instrument and simultaneous analyses
of multiple images of the same part of the sky.  This is on the
long-term to-do list, but it ain't happening during the alpha phase.
If you want precision, multi-image astrometry, we currently recommend
taking the output of astrometry.net and using it as the input for <a
href="http://terapix.iap.fr/rubrique.php?id_rubrique=105">SCAMP</a>.</dd>

<dt class="qanda">Q7: <b>Can I use your output to build panoramic or mosaic images
from many individual images?</b></dt>

<dd class="qanda">A: Yes!  However, see our answer to the previous question: We are
not performing the most precise possible measurements of camera
distortions; if you want awesome mosaics, use Bertin's SCAMP and then
its sister software, SWarp.  Mosaic-quality WCS and automatic
mosaicing of input data are both on our medium-term to-do lists.</dd>

<dt class="qanda">Q8: <b>I have no idea about the scale of my image.</b> What do I
do?</dt>

<dd class="qanda">A: Your estimate of the plate scale is not really necessary, it only
<i>speeds</i> the process, so just put in a huge range, for example
0.1 deg to 120 deg, for the width of the image, and be prepared to
wait for your answer.  Of course, you probably know the scale better
than <i>that</i>: Digital cameras even on full zoom are larger than
10&nbsp;deg, and essentially no professional imagers are larger than
about 2&nbsp;deg.  Eventually we plan to fully parallelize the
service; when this happens no estimate of scale will be necessary for
a fast result.</dd>

<dt class="qanda">Q9: <b>My image didn't solve even though I put in a correct
estimate of the scale and I can see that your source extraction
correctly extracted many USNO-B stars.</b></dt>

<dd class="qanda">A: Can you phrase that as a question?  We find that the most
common error is to put in the scale as 25 but then accidentally pull
down the tab <q>size of the image in degrees</q> when you meant
<q>size of the image in arcmin</q>.  If you are sure that you have
entered everything correctly and that source extraction is sane, and
it still isn't solving, send email to <q>alpha@astrometry.net</q> with
your jobid, because you clearly have a useful image for
debugging.</dd>

<dt class="qanda">Q10: <b>My HST ACS images won't solve!</b> Can't you even solve a
perfectly calibrated and highly recognizable piece of astronomical
data?</dt>

<dd class="qanda">A: Right now there is a strict limitation that we cannot possibly
solve any image below about 5&nbsp;arcmin on a side.  Don't even
bother trying.  We hope to overcome this eventually, but don't hold
your breath!</dd>

<dt class="qanda">Q11: <b>Why does my submission die silently without returning a
jobid?</b></dt>

<dd class="qanda">A: Did your job exceed the 250M size limit?  If so, try gzip (yes,
we take gz files).  If not, there is a bug; send email to
<q>alpha@astrometry.net</q>.</dd>

<dt class="qanda">Q12: <b>What does the system do with multi-extension FITS
files?</b></dt>

<dd class="qanda">A: It just looks at the first image-like FITS extension.</dd>

<dt class="qanda">Q13: <b>I have tons of images I want to solve.</b> Typing my email
and the size parameters and the image urls into your lame web form
over and over again is driving me crazy. Aren't you guys real
scientists? Can't you give me a high-throughput option?</dt>

<dd class="qanda">A: In the future there will be a command line client as well as
the option for you to install the entire system locally at your site.
For now, you can speed things up by submitting your first image
manually using the web form and then hitting the LinkToTheseParameters
button. That will construct a url which pre-fills the form. From then
on, all you'll need to change is the url or local filename of the
image. If that's not good enough, the best we can offer you for now is
the following hack, which uses <code>wget</code> (which you could have
just copied from the <q>LinkToTheseParameters</q> link): <br />
<code>wget&nbsp;&quot;http://live.astrometry.net/index.php?justjobid&amp;email=user@domain.edu&amp;uname=YourName&amp;xysrc=url&amp;imgurl=http%3A%2F%2Fwww.astro.domain.edu%2Fuser%2Foutbox%2Fmyfield.jpg&amp;fstype=ev&amp;fse=1&amp;fsv=50&amp;fsunit=degreewidth&amp;fsu=&amp;fsl=&amp;x_col=X&amp;y_col=Y&amp;parity=2&amp;poserr=1&amp;tweak=1&amp;tweak_order=2&amp;index=auto&amp;submit=Submit&quot;&nbsp;-Ojobid_out</code>
or this hack, which uses <code>curl</code>:<br />
<code>curl&nbsp;-F&nbsp;justjobid=1&nbsp;-F&nbsp;uname="Your&nbsp;Name"&nbsp;-F&nbsp;email=user@domain.edu&nbsp;-F&nbsp;imgurl="http%3A%2F%2Fwww.astr\o.domain.edu%2Fuser%2Foutbox%2Fmyfield.jpg"&nbsp;-F&nbsp;xysrc=url&nbsp;-F&nbsp;fstype=ul&nbsp;-F&nbsp;fsl=1.0&nbsp;-F&nbsp;fsu=1.1&nbsp;-F&nbsp;submit=Submit&nbsp;http://live.astrometry.net/</code>
If neither of <i>those</i> are good
enough, alpha tester Phil Marshall (UCSB) has written a csh script for
uploading multiple files you can <a
href="http://www.slac.stanford.edu/~pjm/astrometry/hansel.csh">grab
here</a>.</dd>

<dt class="qanda"><a name="Q14" />Q14: I looked at the source extraction preview image on the status
page for one of my jobs, and <b>your system totally failed to find
tons of perfectly obvious sources in my image</b>.  What's up?</dt>

<dd class="qanda">A: We're using a really *dumbass* source extraction algorithm for
now, since it basically has to Just&nbsp;Work&nbsp;(tm) most of the
time.  We'd like to make it more sophisticated, so please send to
<q>alpha@astrometry.net</q> the jobid on which source extraction did
poorly. Also, please remember that you can always do the source
extraction yourself and just send us a list of the X,Y (horizontal and
vertical) positions of the sources within your image. The format is a
simple FITS file which you upload to the web form. If you want an
example of the format, you can download the FITS file of the sources
as we extracted them (<tt>field.xy.fits</tt>).</dd>

<dt class="qanda">Q15: <b>Is there a way for me to install the system locally on my
own machine?</b></dt>

<dd class="qanda">A: Yes; see the "download" option at <a href="http://astrometry.net/use.html">http://astrometry.net/use.html</a>.
</dd>

</dl>

<div class="menu">
<hr />
<a href="http://www.astrometry.net/index.html">home</a> |
<a href="http://www.astrometry.net/news.html">news</a> | 
<a href="http://www.astrometry.net/summary.html">project summary </a> | 
<a href="http://www.astrometry.net/people.html">people</a> | 
<a href="http://www.astrometry.net/biblio.html">bibliography</a> | 
<a href="http://www.astrometry.net/related.html">related links</a> | 
<a href="http://trac.astrometry.net">internal pages</a> | 
<a href="http://www.astrometry.net/code.html">download</a> | 
<a href="http://www.astrometry.net/use.html">use</a>
<hr />
</div>

<div id="footer">    
<p class="disclaimer">This project is partially supported by the
      US National Science Foundation under NSF ITR Grant AST-0428465
      <i>Automated Astrometry for Time-Domain and Distributed
      Astrophysics.</i> None of the views expressed on this site
      represent those of the NSF.</p>
</div>
</div>
</body>
</html>
